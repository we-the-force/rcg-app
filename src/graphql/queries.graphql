query AppCateg {
	categorias {
		nombre
		url
	}
}

query AppLogos {
	setting {
		LogoRCG {
			url
		}
		LogoRCGModoOscuro {
			url
		}
	}
}

query AppChannels {
	tvChannels: canalEstacions(where: { Radio_TV: true }) {
		nombre
		url
	}
}

query AppStations {
	radioStations: canalEstacions(where: { Radio_TV: false }) {
		nombre
		url
	}
}

query AppRightPanel {
	rightPanel: articulos(sort: "fecha:desc,visitas:desc", limit: 5) {
		cover {
			url
			width
		}
		url
		Titulo
	}
}

query HomeBanner {
	banner: banners(sort: "posicion:desc", limit: 10, start: 1) {
		articulo {
			id
			url
			Titulo
			cover {
				url
				width
			}
			categoria {
				nombre
			}
		}
	}
}

query AppBanner {
	banner: banners(sort: "posicion:desc", limit: 1) {
		articulo {
			id
			url
			Titulo
			cover {
				url
				width
			}
			categoria {
				nombre
			}
		}
	}
}

query HomeRelevante {
	relevante: articulos(sort: "fecha:desc", where: { relevante: true }, limit: 8) {
		id
		url
		Titulo
		cover {
			url
			width
		}
		categoria {
			nombre
		}
		Sumario
		fecha
	}
}

query CategoriaHome($inicio: Int, $limite: Int) {
	categorias(start: $inicio, limit: $limite) {
		nombre
		url
		articulos(sort: "fecha:desc", limit: 9) {
			cover {
				url
				width
			}
			url
			autor {
				nombre
				url
			}
			fecha
			Titulo
		}
	}
}

query ArticuloPage($url: String) {
	articulos: articulos(where: { url: $url }) {
		id
		url
		Sumario
		visitas
		tags {
			nombre
		}
		categoria {
			nombre
		}
		cover {
			url
			formats
		}
		autor {
			nombre
			url
		}
		Titulo
		cover_creditos
		created_at
		description
	}
}

query ArticuloMeta($url: String) {
	articulos: articulos(where: { url: $url }) {
		Titulo,
		description,
		cover{
			url
			width
		}
	}
}

query Recomendados($tag: String) {
	swiper: articulos(sort: "fecha:desc",where: { tags: { nombre: $tag } }, limit: 9) {
		url
		Titulo
		fecha
		cover {
			url
			formats
		}
	}
}

query RecomendadosCateg($categ: String) {
	swiper: articulos(sort: "fecha:desc",where: { categoria: { nombre: $categ } }, limit: 9) {
		url
		Titulo
		fecha
		cover {
			url
			formats
		}
	}
}

query AutorPage($url: String) {
	autor: autors(where: { url: $url }) {
		id
		nombre
		descripcion
		img {
			url
			width
		}
		twitter_link
		facebook_link
		instagram_link
		url
	}

	autorArticulos: articulosConnection(where: { autor: { url: $url } }) {
		groupBy {
			autor {
				key
				connection {
					aggregate {
						count
					}
				}
			}
		}
	}

	autores: autors(limit: 3, where: { url_ne: $url }) {
		id
		nombre
		img {
			url
			width
		}
		twitter_link
		facebook_link
		instagram_link
		url
	}

	autoresArticulos: articulosConnection {
		groupBy {
			autor {
				key
				connection {
					aggregate {
						count
					}
				}
			}
		}
	}
}

query AutoresPage {
	autores: autors {
		id
		nombre
		img {
			url
			width
		}
		twitter_link
		facebook_link
		instagram_link
		url
	}
	autorArticulos: articulosConnection {
		groupBy {
			autor {
				key
				connection {
					aggregate {
						count
					}
				}
			}
		}
	}
}

query BusquedaAutor($url: String, $inicio: Int, $limite: Int) {
	articulos(sort: "fecha:desc",where: { autor: { url: $url } }, start: $inicio, limit: $limite) {
		Titulo
		url
		fecha
		cover {
			url
			formats
		}
		categoria {
			nombre
		}
		autor {
			url
		}
	}
}

query BusquedaDesc($values: [String], $inicio: Int, $limite: Int) {
	articulos(where: { description_contains: $values }, start: $inicio, limit: $limite) {
		Titulo
		url
		fecha
		cover {
			url
			formats
		}
		categoria {
			nombre
		}
		autor {
			url
		}
	}
}

query BusquedaTitulo($values: [String], $inicio: Int, $limite: Int) {
	articulos(sort: "fecha:desc",where: { Titulo_contains: $values }, start: $inicio, limit: $limite) {
		Titulo
		url
		fecha
		cover {
			url
			formats
		}
		categoria {
			nombre
		}
		autor {
			url
		}
	}
}
query BusquedaTag($values: [String], $inicio: Int, $limite: Int) {
	articulos(sort: "fecha:desc",where: { tags: { nombre_contains: $values } }, start: $inicio, limit: $limite) {
		Titulo
		url
		fecha
		cover {
			url
			formats
		}
		categoria {
			nombre
		}
		autor {
			url
		}
	}
}

query CategoriaPage($categoria: String, $inicio: Int, $limite: Int) {
	articulos(sort: "fecha:desc", where: { categoria: { url: $categoria } }, start: $inicio, limit: $limite) {
		id
		url
		Titulo
		cover {
			url
			width
		}
		categoria {
			nombre
		}
		Sumario
		fecha
	}
	categorias(where: { url: $categoria }) {
		nombre
	}
}

query AboutUsPage {
	nosotrosInfo: nosotro {
		descripcion
		info_mid
		info_bottom
	}
}

query ContactPage {
	contactInfo: contacto {
		telefono
		whatsapp
		correo
		video_source
	}
}

query AvisoPrivacidadPage {
	avisoPrivacidad: avisoDePrivacidad {
		descripcion
	}
}

query DerechoReplicaPage {
	content: derechoDeReplica {
		nombre
		direccion
		telefono
		correo
	}
}

query FaqPage {
	faq: preguntasFrecuente {
		preguntas {
			pregunta
			respuesta
		}
	}
}

query EspectacularPage {
	info: espectacularInfo {
		nosotros
		porque_nosotros
		NosotrosImagen {
			url
		}
		PorqueNosotrosImagen {
			url
		}
	}
	clientes: espectacularClientes {
		nombre
		logo {
			url
		}
	}
}

query CatalogoPage {
	norte: espectaculars(where: { zona: "norte" }) {
		...EspectacularData
	}
	sur: espectaculars(where: { zona: "sur" }) {
		...EspectacularData
	}
	oriente: espectaculars(where: { zona: "oriente" }) {
		...EspectacularData
	}
	poniente: espectaculars(where: { zona: "poniente" }) {
		...EspectacularData
	}
	centro: espectaculars(where: { zona: "centro" }) {
		...EspectacularData
	}
}

query SchedulePage($station: String, $date: String, $radio_tv: Boolean) {
	tv: canalEstacions(where: { Radio_TV: $radio_tv, url: $station }) {
		...StationData
	}
	programacion: programacionSemanas(where: { canal_estacion: { url: $station }, fecha_inicio: $date }) {
		...ScheduleData
	}
}

query SchedulePageRadio($station: String, $date: String, $radio_tv: Boolean) {
	radio: canalEstacions(where: { Radio_TV: $radio_tv, url: $station }) {
		...StationData
	}
	programacion: programacionSemanas(where: { canal_estacion: { url: $station }, fecha_inicio: $date }) {
		...ScheduleData
	}
}

#borrar de aqui pa adelante si no los uso

query SearchArticulosByTag($tags: [String]) {
	articulos(where: { tags: { nombre_in: $tags } }) {
		...ArticulosData
	}
}

#query SchedulePage($station: String, $date: String) {
#  categorias {
#    nombre
#  }
#  radio_stations: canalEstacions(where: { Radio_TV: false }) {
#    ...StationData
#  }
#  tv_channels: canalEstacions(where: { Radio_TV: true }) {
#    ...StationData
#  }
#  programacionSemanas(
#    where: { canal_estacion: { url: $station }, fecha_inicio_gte: $date }
#    sort: "fecha_inicio:asc"
#  ) {
#    ...ScheduleData
#  }
#  articulosDestacadosRaros: articulos(sort: "fecha:desc", limit: 5) {
#    ...ArticulosData
#  }
#}

fragment EspectacularData on Espectacular {
	id_espectacular
	cara1 {
		url
	}
	cara2 {
		url
	}
	lugar
	zona
}

fragment StationData on CanalEstacion {
	nombre
	url
	source_url
	logo {
		url
	}
	descripcion
	Radio_TV
}

fragment ArticulosData on Articulo {
	id
	url
	Titulo
	Sumario
	cover_creditos
	autor {
		nombre
		url
	}
	fecha
	created_at
	cover {
		url
		width
	}
	description
	visitas
	tags {
		nombre
	}
	categoria {
		nombre
	}
}

fragment ScheduleData on ProgramacionSemana {
	id
	canal_estacion {
		nombre
	}
	programacion {
		lunes {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		martes {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		miercoles {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		jueves {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		viernes {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		sabado {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
		domingo {
			hora_inicio
			hora_final
			programa {
				Nombre
				Descripcion
				cover {
					url
				}
			}
		}
	}
}
